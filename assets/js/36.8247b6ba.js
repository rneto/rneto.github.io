(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{507:function(e,a,t){"use strict";t.r(a);var s=t(6),n=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"publicar-aplicaciones-asp-net-core-en-iis-con-web-deploy-mediante-perfiles-de-publicacion-de-visual-studio-y-diferenciando-entornos-de-implementacion"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#publicar-aplicaciones-asp-net-core-en-iis-con-web-deploy-mediante-perfiles-de-publicacion-de-visual-studio-y-diferenciando-entornos-de-implementacion"}},[e._v("#")]),e._v(" Publicar aplicaciones ASP.NET Core en IIS con Web Deploy mediante perfiles de publicación de Visual Studio y diferenciando entornos de implementación")]),e._v(" "),t("social-share",{staticClass:"social-share--header"}),e._v(" "),t("p",[e._v("Los "),t("a",{attrs:{href:"https://docs.microsoft.com/es-es/aspnet/core/host-and-deploy/visual-studio-publish-profiles",target:"_blank",rel:"noopener noreferrer"}},[e._v("perfiles de publicación de Visual Studio"),t("OutboundLink")],1),e._v(" son archivos de configuración donde se almacena la información de publicación de los servicios que contiene un proyecto. Con ellos podemos automatizar y simplificar la creación del conjunto de ficheros que permiten la ejecución de una aplicación y el despliegue de dichos ficheros a una máquina o servicio de destino.")]),e._v(" "),t("p",[e._v("La creación de múltiples perfiles de publicación en un mismo proyecto es una manera básica de facilitar las tareas de despliegue cuando tenemos una arquitectura de sistemas basada en múltiples niveles de implementación y debemos hacer el despliegue del software en cada uno de ellos. Los entornos o niveles de implementación que se suelen contemplar en los depliegues son:")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("Entorno de desarrollo ("),t("em",[e._v("Development")]),e._v(")")]),e._v(": es el entorno usado por los programadores y donde se desarrollan los cambios en el software.")]),e._v(" "),t("li",[t("strong",[e._v("Entorno de pruebas ("),t("em",[e._v("Testing")]),e._v(")")]),e._v(": es el entorno donde se realizan las pruebas unitarias, bien automáticas o humanas.")]),e._v(" "),t("li",[t("strong",[e._v("Entorno de pre-producción ("),t("em",[e._v("Staging")]),e._v(")")]),e._v(": es el entorno usado por el cliente para comprobar las características implementadas antes de su puesta en producción.")]),e._v(" "),t("li",[t("strong",[e._v("Entorno de producción ("),t("em",[e._v("Production")]),e._v(")")]),e._v(": es el entorno con el que los usuarios finales interactúan.")])]),e._v(" "),t("h2",{attrs:{id:"¿como-crear-un-perfil-de-publicacion"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#¿como-crear-un-perfil-de-publicacion"}},[e._v("#")]),e._v(" ¿Cómo crear un perfil de publicación?")]),e._v(" "),t("p",[e._v("Los siguientes pasos están basados en Visual Studio 2019 o versiones superiores. Un mismo proyecto puede tener múltiples perfiles de publicación por lo que crearemos uno por cada entorno de implementación. Pasos a seguir:")]),e._v(" "),t("ul",[t("li",[e._v("En el "),t("em",[e._v("Explorador de soluciones")]),e._v(" de Visual Studio, pulsamos con el botón derecho en el proyecto y seleccionamos la opción "),t("em",[e._v("Publicar")]),e._v(". Otra alternativa es seleccionar el proyecto y seleccionar "),t("em",[e._v("Publicar {NOMBRE DEL PROYECTO}")]),e._v(" en el menú "),t("em",[e._v("Compilar")]),e._v(".")]),e._v(" "),t("li",[e._v("Si el proyecto no contiene previamente ningún perfil de publicación, se mostrará la página para elegir un destino de publicación.")]),e._v(" "),t("li",[e._v("Si previamente teníamos configurado algún perfil de publicación, aparecerá la pestaña "),t("em",[e._v("Publicar")]),e._v(" de la página de funcionalidades de la aplicación. En ese caso, seleccionamos la opción "),t("em",[e._v("Nuevo")]),e._v(" que aparece debajo de la lista desplegable de perfiles.")]),e._v(" "),t("li",[e._v("En la ventana "),t("em",[e._v("Publicar")]),e._v(", elegimos "),t("em",[e._v("Servidor web (IIS)")]),e._v(".")]),e._v(" "),t("li",[e._v("Elegimos seguidamente "),t("em",[e._v("Web Deploy")]),e._v(" como método de implementación.")]),e._v(" "),t("li",[e._v("Configuramos las opciones necesarias del método de publicación y seleccionamos "),t("em",[e._v("Finalizar")]),e._v(". Las opciones mínimas que debemos configurar son:\n"),t("ul",[t("li",[t("em",[e._v("Servidor")]),e._v(": La ruta del servidor de destino de la publicación.")]),e._v(" "),t("li",[t("em",[e._v("Nombre del sitio")]),e._v(": El nombre del sitio web del IIS del servidor de destino de la publicación.")])])]),e._v(" "),t("li",[e._v("Una vez creado el perfil de publicación, cambia el contenido de la pestaña "),t("em",[e._v("Publicar")]),e._v(" y el perfil recién creado aparecerá en una lista desplegable.")])]),e._v(" "),t("p",[e._v("Por cada perfil de publicación, Visual Studio genera un archivo "),t("a",{attrs:{href:"https://docs.microsoft.com/es-es/visualstudio/msbuild/msbuild",target:"_blank",rel:"noopener noreferrer"}},[e._v("MSBuild"),t("OutboundLink")],1),e._v(" ubicado en la ruta "),t("em",[e._v("Properties/PublishProfiles/{NOMBRE DEL PERFIL}.pubxml")]),e._v(" con toda la información de la configuración de publicación y que es posible modificar para personalizar el proceso de compilación y publicación del proyecto.")]),e._v(" "),t("h3",{attrs:{id:"perfiles-de-publicacion-y-configuracion-en-asp-net-core"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#perfiles-de-publicacion-y-configuracion-en-asp-net-core"}},[e._v("#")]),e._v(" Perfiles de publicación y configuración en ASP.NET Core")]),e._v(" "),t("p",[e._v("Cuando hacemos uso de la "),t("a",{attrs:{href:"https://docs.microsoft.com/es-es/aspnet/core/fundamentals/configuration",target:"_blank",rel:"noopener noreferrer"}},[e._v("configuración en ASP.NET Core"),t("OutboundLink")],1),e._v(" mediante archivos de configuración como "),t("em",[e._v("appsetting.json")]),e._v(" o "),t("em",[e._v("appsettings.{Entorno}.json")]),e._v(", es necesario hacer un ajuste manual en el fichero de publicación "),t("em",[e._v(".pubxml")]),e._v(" previamente generado para agregarle el "),t("em",[e._v("entorno de ejecución")]),e._v(" que estamos desplegando. Según los niveles de implementación antes mencionados, deberíamos usar los valores "),t("em",[e._v("Development")]),e._v(", "),t("em",[e._v("Testing")]),e._v(", "),t("em",[e._v("Staging")]),e._v(" o "),t("em",[e._v("Production")]),e._v(" de la siguiente manera:")]),e._v(" "),t("div",{staticClass:"language-xml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[e._v("  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("PropertyGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    ...\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("EnvironmentName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("Staging"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("EnvironmentName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("PropertyGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])]),t("p",[e._v("Agregando dicha configuración, nos aseguraremos de que cuando publiquemos nuestra aplicación ésta hará uso del fichero de configuración del entorno que hayamos establecido en el nodo "),t("em",[e._v("EnvironmentName")]),e._v(". El proceso por el que se aplicará dicha configuración será mediante la creación automática de un fichero "),t("em",[e._v("web.config")]),e._v(" en el que se indicará de manera explícita la varialble de entorno "),t("em",[e._v("ASPNETCORE_ENVIRONMENT")]),e._v(" con el valor que hayamos establecido en nuestro nuevo nodo.")]),e._v(" "),t("h3",{attrs:{id:"publicacion-de-carpetas-personalizadas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#publicacion-de-carpetas-personalizadas"}},[e._v("#")]),e._v(" Publicación de carpetas personalizadas")]),e._v(" "),t("p",[e._v("En ocasiones debemos incluir en nuestra publicación carpetas que de forma predeterminada nuestro proyecto no agregaría. Es el caso por ejemplo de una carpeta situada al mismo nivel que la carpeta de nuestro proyecto. Para ello debemos realizar la siguiente modificación en el fichero del perfil de publicación:")]),e._v(" "),t("div",{staticClass:"language-xml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[e._v("  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("PropertyGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("PipelineCollectFilesPhaseDependsOn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n      IncludeCustomFiles;\n      $(PipelineCollectFilesPhaseDependsOn);\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("PipelineCollectFilesPhaseDependsOn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("PropertyGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("Target")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("Name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("IncludeCustomFiles"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("Message")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("Text")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("Including custom files"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("Importance")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("high"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("ItemGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("_CustomFiles")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("Include")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("$(MSBuildProjectDirectory)\\..\\myfolder\\**\\*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("FilesForPackagingFromProject")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("Include")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("%(_CustomFiles.Identity)"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("DestinationRelativePath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("myfolder\\%(RecursiveDir)%(Filename)%(Extension)"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("DestinationRelativePath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("FilesForPackagingFromProject")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("ItemGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("Target")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])]),t("p",[e._v("En el anterior ejemplo la carpeta "),t("code",[e._v("myfolder")]),e._v(" está al mismo nivel que la carpeta de nuestro proyecto. Si dicha carpeta estuviera dentro de nuestro proyecto, bastaría cambiar "),t("code",[e._v("$(MSBuildProjectDirectory)\\..\\myfolder\\**\\*")]),e._v(" por "),t("code",[e._v("myfolder\\**\\*")]),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"omision-de-carpetas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#omision-de-carpetas"}},[e._v("#")]),e._v(" Omisión de carpetas")]),e._v(" "),t("p",[e._v("En otras ocasiones simplementer queremos excluir de nuestra publicación carpetas que de forma predeterminada nuestro proyecto sí agregarían al despliegue. En dicho caso debemos realizar la siguiente modificación en el fichero del perfil de publicación:")]),e._v(" "),t("div",{staticClass:"language-xml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[e._v("  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("ItemGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("MsDeploySkipRules")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("Include")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("CustomSkipFolder"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("ObjectName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("dirPath"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("ObjectName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("AbsolutePath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("myfolder\\\\mysubfolder"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("AbsolutePath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("MsDeploySkipRules")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("ItemGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])]),t("p",[e._v("En el anterior ejemplo se excluiría de la publicación la carpeta "),t("code",[e._v("myfolder\\mysubfolder")]),e._v(".")]),e._v(" "),t("h2",{attrs:{id:"creacion-del-entorno-de-ejecucion-en-iis-8-o-posterior"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#creacion-del-entorno-de-ejecucion-en-iis-8-o-posterior"}},[e._v("#")]),e._v(" Creación del entorno de ejecución en IIS 8 o posterior")]),e._v(" "),t("p",[e._v("Para poder publicar nuestro proyecto en el servidor IIS, previamente debemos haber preparado el entorno de ejecución siguiendo los siguientes pasos en el servidor de publicación:")]),e._v(" "),t("ol",[t("li",[e._v("Instalar la versión de .NET Core que use nuestro proyecto. Será necesario instalar la opción "),t("em",[e._v("ASP.NET Core Hosting Bundle")]),e._v(" y en algunos casos es posible que sea también necesario reiniciar la máquina.")]),e._v(" "),t("li",[e._v("Instalar el certificado SSL del cual hará uso nuestra aplicación.\n"),t("ul",[t("li",[e._v("Podemos hacerlo mediante la obtención del fichero "),t("em",[e._v("pfx")]),e._v(" de nuestro certificado con la clave privada incluida y el uso de la herramienta "),t("em",[e._v("mmc.exe")]),e._v(" (Microsoft Management Console) para su importación a través del "),t("em",[e._v("Snap-in")]),e._v(" "),t("em",[e._v("Certificates")]),e._v(" a nivel de "),t("em",[e._v("Computer account")]),e._v(".")])])]),e._v(" "),t("li",[e._v("Instalar IIS Web Deploy.\n"),t("ul",[t("li",[e._v("Web Deploy es una extensión de IIS ofrecida por Microsoft para la implementación de aplicaciones web en servidores IIS.")]),e._v(" "),t("li",[e._v("Podemos descargarnos directamente el "),t("a",{attrs:{href:"https://www.iis.net/downloads/microsoft/web-deploy",target:"_blank",rel:"noopener noreferrer"}},[e._v("instalador"),t("OutboundLink")],1),e._v(" desde la web de IIS.")]),e._v(" "),t("li",[e._v("Otros "),t("a",{attrs:{href:"https://docs.microsoft.com/en-us/iis/install/installing-publishing-technologies/installing-and-configuring-web-deploy-on-iis-80-or-later",target:"_blank",rel:"noopener noreferrer"}},[e._v("métodos de instalación de Web Deploy en IIS 8.0 y posterior"),t("OutboundLink")],1),e._v(".")])])]),e._v(" "),t("li",[e._v("Crearemos el directorio físico donde alojaremos nuestra aplicación.")]),e._v(" "),t("li",[e._v("Añadiremos al IIS un nuevo sitio web\n"),t("ul",[t("li",[e._v("El nuevo sitio apuntará a la ruta física del directorio que hemos creado para alojar la aplicación.")]),e._v(" "),t("li",[e._v("Al nuevo sitio creado se le asignará a un nuevo pool propio, sin código gestionado ("),t("em",[e._v("No Managed Code")]),e._v(").")]),e._v(" "),t("li",[e._v("Asignaremos al nuevo sitio web el certificado que hemos importado previamente a través del apartado "),t("em",[e._v("Bindings")]),e._v(" de la sección "),t("em",[e._v("Actions")]),e._v(" del IIS, mediante la creación de una entrada para el protocolo "),t("em",[e._v("https")]),e._v(". Si necesitáramos configurar más de un certificado en una misma IP, tendremos que activar la opción "),t("em",[e._v("Require Server Name Indication")]),e._v(".")])])])]),e._v(" "),t("h2",{attrs:{id:"errores-comunes-durante-el-proceso-de-publicacion-y-al-consumir-servicios-publicados"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#errores-comunes-durante-el-proceso-de-publicacion-y-al-consumir-servicios-publicados"}},[e._v("#")]),e._v(" Errores comunes durante el proceso de publicación y al consumir servicios publicados")]),e._v(" "),t("p",[e._v("Cuando intentemos realizar la publicación de nuestro proyecto o bien intentemos consumir los servicios de dicho proyecto una vez publicados, podemos encontrarnos con algunos errores comunes como los de de a continuación.")]),e._v(" "),t("p",[e._v("Recordemos que la publicación de un proyecto se puede realizar desde el "),t("em",[e._v("Explorador de soluciones")]),e._v(" de Visual Studio, pulsamos con el botón derecho en el proyecto y seleccionamos la opción "),t("em",[e._v("Publicar")]),e._v(" o como alternativa seleccionando el proyecto y elegir "),t("em",[e._v("Publicar {NOMBRE DEL PROYECTO}")]),e._v(" en el menú "),t("em",[e._v("Compilar")]),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"error-the-remote-certificate-is-invalid-according-to-the-validation-procedure"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-the-remote-certificate-is-invalid-according-to-the-validation-procedure"}},[e._v("#")]),e._v(" ERROR: "),t("em",[e._v("The remote certificate is invalid according to the validation procedure.")])]),e._v(" "),t("p",[e._v("En caso de tener errores de publicación relativos a dicho problema, es necesario agregar manualmente la propiedad "),t("em",[e._v("AllowUntrustedCertificate")]),e._v(" con un valor de "),t("em",[e._v("True")]),e._v(" al perfil de publicación:")]),e._v(" "),t("div",{staticClass:"language-xml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("PropertyGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    ...\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("AllowUntrustedCertificate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("True"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("AllowUntrustedCertificate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("PropertyGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])]),t("h3",{attrs:{id:"error-http-502-5-process-failure-iis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-http-502-5-process-failure-iis"}},[e._v("#")]),e._v(" ERROR: "),t("em",[e._v("HTTP 502.5 - Process Failure (IIS)")])]),e._v(" "),t("p",[e._v("Si una vez publicado el servicio, al hacer una llamada, por ejemplo con "),t("a",{attrs:{href:"https://www.postman.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Postman"),t("OutboundLink")],1),e._v(", recibiéramos este error, añadiendo la siguiente propiedad al perfil de publicación, se solucionaría:")]),e._v(" "),t("div",{staticClass:"language-xml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("PropertyGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    ...\n   "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("PublishWithAspNetCoreTargetManifest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("false"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("PublishWithAspNetCoreTargetManifest")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("PropertyGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])]),t("h3",{attrs:{id:"error-http-405-method-not-allowed-iis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-http-405-method-not-allowed-iis"}},[e._v("#")]),e._v(" ERROR: "),t("em",[e._v("HTTP 405 - Method Not Allowed (IIS)")])]),e._v(" "),t("p",[t("a",{attrs:{href:"https://stackoverflow.com/questions/48188895/asp-net-core-with-iis-http-verb-not-allowed",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://stackoverflow.com/questions/48188895/asp-net-core-with-iis-http-verb-not-allowed"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Básicamente es necesario añadir un fichero "),t("em",[e._v("web.config")]),e._v(" con el siguiente contenido:")]),e._v(" "),t("div",{staticClass:"language-xml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token prolog"}},[e._v('<?xml version="1.0" encoding="utf-8"?>')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("configuration")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("location")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("path")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("inheritInChildApplications")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("false"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("system.webServer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("modules")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("remove")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("WebDAVModule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("modules")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("handlers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("remove")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("aspNetCore"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("remove")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("WebDAV"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("remove")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("ExtensionlessUrlHandler-Integrated-4.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("remove")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("OPTIONSVerbHandler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("remove")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("TRACEVerbHandler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("add")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("aspNetCore"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("path")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("verb")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("modules")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("AspNetCoreModuleV2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("resourceType")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("Unspecified"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n      "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("handlers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("system.webServer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("location")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("configuration")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])]),t("h3",{attrs:{id:"error-web-deployment-task-failed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-web-deployment-task-failed"}},[e._v("#")]),e._v(" ERROR: "),t("em",[e._v("Web deployment task failed")])]),e._v(" "),t("p",[t("a",{attrs:{href:"https://go.microsoft.com/fwlink/?LinkId=221672#ERROR_DESTINATION_NOT_REACHABLE",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://go.microsoft.com/fwlink/?LinkId=221672#ERROR_DESTINATION_NOT_REACHABLE"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("El error se produce porque "),t("em",[e._v("Web Management Service")]),e._v(" o "),t("em",[e._v("Remote Agent")]),e._v(" no están instalados o arrancados en el servidor. La instalación de "),t("em",[e._v("Manager Service")]),e._v(" se realiza agregando al servidor el rol "),t("em",[e._v("Web Server (IIS)/Management Tool/Management Service")]),e._v(". Una vez instalado, debemos reiniciar el "),t("em",[e._v("IIS Manager")]),e._v(" y arrancar el "),t("em",[e._v("Management Service")]),e._v(" a nivel de servidor.")]),e._v(" "),t("h3",{attrs:{id:"error-web-deployment-task-failed-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-web-deployment-task-failed-2"}},[e._v("#")]),e._v(" ERROR: "),t("em",[e._v("Web deployment task failed")])]),e._v(" "),t("p",[t("a",{attrs:{href:"https://go.microsoft.com/fwlink/?LinkId=221672#ERROR_COULD_NOT_CONNECT_TO_REMOTESVC",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://go.microsoft.com/fwlink/?LinkId=221672#ERROR_COULD_NOT_CONNECT_TO_REMOTESVC"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Además de las soluciones propuestas por Microsoft, también cabe la posibilidad de que este error se produzca por haber instalado el "),t("em",[e._v("Manager Service")]),e._v(" después de "),t("em",[e._v("Web Deploy")]),e._v(". En ese caso, debemos desinstalar y volver a instalar "),t("em",[e._v("Web Deploy")]),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"error-could-not-connect-to-the-remote-computer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-could-not-connect-to-the-remote-computer"}},[e._v("#")]),e._v(" ERROR: "),t("em",[e._v("Could not connect to the remote computer")])]),e._v(" "),t("p",[t("a",{attrs:{href:"http://go.microsoft.com/fwlink/?LinkId=221672#ERROR_COULD_NOT_CONNECT_TO_REMOTES",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://go.microsoft.com/fwlink/?LinkId=221672#ERROR_COULD_NOT_CONNECT_TO_REMOTES"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Si las soluciones propuestas por Microsoft no son válidas, otra posible causa del error puede que esté en la restricción de direcciones IP del propio "),t("em",[e._v("Management Service")]),e._v(" del IIS, cuyo valor debe ser "),t("em",[e._v("Allow")]),e._v(" o indicar explícitamente las direcciones IP desde las cuales se realizará el despliegue.")]),e._v(" "),t("h3",{attrs:{id:"error-could-not-verify-server-s-certificate"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-could-not-verify-server-s-certificate"}},[e._v("#")]),e._v(" ERROR: "),t("em",[e._v("Could not verify server's certificate")])]),e._v(" "),t("p",[t("a",{attrs:{href:"https://docs.microsoft.com/en-us/iis/publish/troubleshooting-web-deploy/web-deploy-error-codes#ERROR_CERTIFICATE_VALIDATION_FAILED",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.microsoft.com/en-us/iis/publish/troubleshooting-web-deploy/web-deploy-error-codes#ERROR_CERTIFICATE_VALIDATION_FAILED"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("El error se produce porque de manera predeterminada el IIS usa el certificado auto firmado de Windows, el cual no está emitido por una entidad raíz de confianza.")]),e._v(" "),t("h4",{attrs:{id:"solucion-1-usar-un-certificado-valido"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#solucion-1-usar-un-certificado-valido"}},[e._v("#")]),e._v(" Solución 1 (usar un certificado válido)")]),e._v(" "),t("p",[e._v("Debemos seguir los siguientes pasos:")]),e._v(" "),t("ol",[t("li",[e._v("Abrir el administrador de IIS (IIS Manager).")]),e._v(" "),t("li",[e._v("En el árbol de conexiones, seleccionar la máquina.")]),e._v(" "),t("li",[e._v("En el panel de características, abrir "),t("em",[e._v("Management Service")]),e._v(" (se encuentra en el área "),t("em",[e._v("Management")]),e._v(").")]),e._v(" "),t("li",[e._v("Paramos el servicio con el botón "),t("em",[e._v("Stop")]),e._v(".")]),e._v(" "),t("li",[e._v("En el desplegable de "),t("em",[e._v("SSL certificate")]),e._v(" seleccionamos el certificado que queremos usar.")]),e._v(" "),t("li",[e._v("Volvemos a arrancar el servicio con el botón "),t("em",[e._v("Start")]),e._v(" (aceptamos cuando nos pregunte si queremos guardar los cambios).")])]),e._v(" "),t("h4",{attrs:{id:"solucion-2-usar-el-certificado-auto-firmado"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#solucion-2-usar-el-certificado-auto-firmado"}},[e._v("#")]),e._v(" Solución 2 (usar el certificado auto firmado)")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://docs.microsoft.com/es-es/aspnet/core/host-and-deploy/visual-studio-publish-profiles?view=aspnetcore-3.0#publish-to-a-server-using-an-untrusted-certificate",target:"_blank",rel:"noopener noreferrer"}},[e._v('Opción 2.1 (ASP.NET Core 3.0) "Publicación en un servidor mediante un certificado que no es de confianza"'),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"https://stackoverflow.com/questions/33659696/publishing-from-visual-studio-2015-allow-untrusted-certificates",target:"_blank",rel:"noopener noreferrer"}},[e._v("Opción 2.2"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"otros-errores"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#otros-errores"}},[e._v("#")]),e._v(" Otros errores")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://docs.microsoft.com/en-us/iis/publish/troubleshooting-web-deploy/troubleshooting-web-deploy-problems-with-visual-studio",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.microsoft.com/en-us/iis/publish/troubleshooting-web-deploy/troubleshooting-web-deploy-problems-with-visual-studio"),t("OutboundLink")],1)]),e._v(" "),t("hr"),e._v(" "),t("social-share",{staticClass:"social-share--footer"})],1)}),[],!1,null,null,null);a.default=n.exports}}]);
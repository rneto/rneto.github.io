<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Implementaciones del algoritmo QuickSort y uso del patrón Bridge con TypeScript | Rafael Neto</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/images/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/images/icons/icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#8a278c">
    <link rel="alternate" type="application/rss+xml" href="https://rneto.es/rss.xml" title="Rafael Neto RSS Feed">
    <meta name="description" content="
Algoritmo Quicksort

El algoritmo de ordenación Quicksort, consiste en tomar como referencia un elemento de la lista (al que se denomina pivote) y dividi ...">
    <meta property="article:published_time" content="2020-09-23T00:00:00.000Z">
    <meta property="og:site_name" content="Rafael Neto">
    <meta property="og:title" content="Implementaciones del algoritmo QuickSort y uso del patrón Bridge con TypeScript">
    <meta property="og:description" content="
Algoritmo Quicksort

El algoritmo de ordenación Quicksort, consiste en tomar como referencia un elemento de la lista (al que se denomina pivote) y dividi ...">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/blog/quicksort-bridge-typescript/">
    <meta name="twitter:title" content="Implementaciones del algoritmo QuickSort y uso del patrón Bridge con TypeScript">
    <meta name="twitter:description" content="
Algoritmo Quicksort

El algoritmo de ordenación Quicksort, consiste en tomar como referencia un elemento de la lista (al que se denomina pivote) y dividi ...">
    <meta name="twitter:url" content="/blog/quicksort-bridge-typescript/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="Algoritmo, TypeScript, PatronDeDiseño">
    <meta property="article:tag" content="Algoritmo">
    <meta name="theme-color" content="#8a278c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/images/icons/icon-144x144">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.34cc10db.css" as="style"><link rel="preload" href="/assets/js/app.c6afc0c4.js" as="script"><link rel="preload" href="/assets/js/8.4155328b.js" as="script"><link rel="preload" href="/assets/js/3.daf20502.js" as="script"><link rel="preload" href="/assets/js/37.f8156d47.js" as="script"><link rel="preload" href="/assets/js/9.46140f75.js" as="script"><link rel="prefetch" href="/assets/js/10.c66dc6eb.js"><link rel="prefetch" href="/assets/js/11.0859c5f2.js"><link rel="prefetch" href="/assets/js/12.dda17e0d.js"><link rel="prefetch" href="/assets/js/13.cc76f2d3.js"><link rel="prefetch" href="/assets/js/14.7d6d8b5b.js"><link rel="prefetch" href="/assets/js/15.7444241f.js"><link rel="prefetch" href="/assets/js/16.3a5575f2.js"><link rel="prefetch" href="/assets/js/17.5ab4de7a.js"><link rel="prefetch" href="/assets/js/18.fcf5f987.js"><link rel="prefetch" href="/assets/js/19.10492db0.js"><link rel="prefetch" href="/assets/js/20.37e5d098.js"><link rel="prefetch" href="/assets/js/21.b7f0acbf.js"><link rel="prefetch" href="/assets/js/22.03b91290.js"><link rel="prefetch" href="/assets/js/23.dff5b85a.js"><link rel="prefetch" href="/assets/js/24.8909442f.js"><link rel="prefetch" href="/assets/js/25.d21ee7b0.js"><link rel="prefetch" href="/assets/js/26.6f4069c9.js"><link rel="prefetch" href="/assets/js/27.8df12cd8.js"><link rel="prefetch" href="/assets/js/28.fdac100a.js"><link rel="prefetch" href="/assets/js/29.6058f4a0.js"><link rel="prefetch" href="/assets/js/30.f605256a.js"><link rel="prefetch" href="/assets/js/31.c571e16a.js"><link rel="prefetch" href="/assets/js/32.4fe1f3b0.js"><link rel="prefetch" href="/assets/js/33.ee3d5fe3.js"><link rel="prefetch" href="/assets/js/34.0556425a.js"><link rel="prefetch" href="/assets/js/35.4f196f1b.js"><link rel="prefetch" href="/assets/js/36.8247b6ba.js"><link rel="prefetch" href="/assets/js/38.6c76a4e9.js"><link rel="prefetch" href="/assets/js/39.7c90d7a7.js"><link rel="prefetch" href="/assets/js/4.3c7dd51c.js"><link rel="prefetch" href="/assets/js/40.172dd030.js"><link rel="prefetch" href="/assets/js/41.3f4a309e.js"><link rel="prefetch" href="/assets/js/42.8b5a61ed.js"><link rel="prefetch" href="/assets/js/5.ea665055.js"><link rel="prefetch" href="/assets/js/6.e64689b4.js"><link rel="prefetch" href="/assets/js/7.83269844.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.dbcc377a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.34cc10db.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">Rafael Neto </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link router-link-active">Blog</a></li><li class="nav-item"><a href="/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">Rafael Neto </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link router-link-active">Blog</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">Tags</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        
      </h1> <div class="post-meta"><!----> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2020-9-23">
      Sep 23 2020
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/tag/Algoritmo" data-v-42ccfcd5><span data-v-42ccfcd5>Algoritmo</span></a></li><li class="post-tag" data-v-42ccfcd5><a href="/tag/TypeScript" data-v-42ccfcd5><span data-v-42ccfcd5>TypeScript</span></a></li><li class="post-tag" data-v-42ccfcd5><a href="/tag/PatronDeDiseño" data-v-42ccfcd5><span data-v-42ccfcd5>PatronDeDiseño</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h1 id="implementaciones-del-algoritmo-quicksort-y-uso-del-patron-bridge-con-typescript"><a href="#implementaciones-del-algoritmo-quicksort-y-uso-del-patron-bridge-con-typescript" class="header-anchor">#</a> Implementaciones del algoritmo QuickSort y uso del patrón Bridge con TypeScript</h1> <!----> <h2 id="algoritmo-quicksort"><a href="#algoritmo-quicksort" class="header-anchor">#</a> Algoritmo Quicksort</h2> <p>El algoritmo de ordenación <a href="https://en.wikipedia.org/wiki/Quicksort" target="_blank" rel="noopener noreferrer">Quicksort<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, consiste en tomar como referencia un elemento de la lista (al que se denomina <em>pivote</em>) y dividirla en dos nuevas sublistas, una con los elementos menores al elemento de referencia y otra con los elementos mayores al elemento de referencia (los elementos iguales se ubicarian en cualquiera de las dos listas, según su implementación). Seguidamente dividiremos recursivamente con el mismo método cada sublista hasta ordenar toda la lista.</p> <p>La eficiencia del algoritmo depende principalmente de la técnica usada para la elección del pivote y de la técnica de reposicionamiento de los elementos.</p> <h2 id="patron-bridge"><a href="#patron-bridge" class="header-anchor">#</a> Patrón Bridge</h2> <p>El <a href="https://en.wikipedia.org/wiki/Bridge_pattern" target="_blank" rel="noopener noreferrer">patrón Bridge<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> es uno de los 23 patrones presentados y definidos por The Gang of Four (GOF) en el libro &quot;Design Patterns: Elements of Reusable Object-Oriented Software&quot; y forma parte de la categoría de patrones estructurales. Este patrón se usa para desacoplar una abstracción de su implementación, de modo que las dos puedan variar de forma independiente.</p> <p>Si consideramos nuestro algoritmo de ordenación como una clase abstracta basada en el principio de <em>Divide y vencerás</em> (<em>Divide and conquer</em> en inglés) donde rompemos y ordenamos la matriz de manera recursiva, podríamos tener diferentes implementaciones de ordenación, tanto para el algoritmo Quicksort, como para otros algoritmos basados en el mismo principio como <a href="https://en.wikipedia.org/wiki/Merge_sort" target="_blank" rel="noopener noreferrer">Merge sort<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> o <a href="https://en.wikipedia.org/wiki/Binary_search_algorithm" target="_blank" rel="noopener noreferrer">Binary search<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> entre otros. Es por ello que he considerado usar el patrón Bridge como solución para esta demostración.</p> <h2 id="interfaz-de-comportamiento-la-implementacion"><a href="#interfaz-de-comportamiento-la-implementacion" class="header-anchor">#</a> Interfaz de comportamiento: <em>la implementación</em></h2> <p>Empezaremos por definir la interfaz que describe el comportamiento específico de nuestra necesidades, en nuestro caso, el algoritmo de ordenación. A partir de ella definiremos múltiples implementaciones concretas que se adaptarán al contrato definido por la interfaz.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">SorterAlgorithmInterface</span> <span class="token punctuation">{</span>
    <span class="token function">sort</span><span class="token punctuation">(</span>numbers<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> low<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> hight<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><em>sorter-algorithm.interface.ts</em></p> <h2 id="divide-y-venceras-la-abstraccion"><a href="#divide-y-venceras-la-abstraccion" class="header-anchor">#</a> Divide y vencerás: <em>la abstracción</em></h2> <p>En segundo lugar definiremos la clase que ofrece el API de ordenación. Será una clase creada como abstracta y que tendrá una referencia a la implementación a través de una propiedad en la clase, por lo que no conocerá los detalles de dicha implementación de ordenación.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> SorterAlgorithmInterface <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">DivideConquerSorter</span> <span class="token punctuation">{</span>
  sorterAlgorithm<span class="token operator">:</span> SorterAlgorithmInterface<span class="token punctuation">;</span>

  <span class="token comment">/**
   * Constructor for a sorter service.
   *
   * @param sorterAlgorithm The sorter algorithm implementation to apply.
   */</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span>sorterAlgorithm<span class="token operator">:</span> SorterAlgorithmInterface<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sorterAlgorithm <span class="token operator">=</span> sorterAlgorithm<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * Sort service method.
   * @param numbers The numbers to sort.
   */</span>
  <span class="token function">sort</span><span class="token punctuation">(</span>numbers<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>numbers<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>sorterAlgorithm<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> numbers<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><em>divide-conquer.sorter.ts</em></p> <h2 id="quicksort-de-ordenacion-extendiendo-la-abstraccion"><a href="#quicksort-de-ordenacion-extendiendo-la-abstraccion" class="header-anchor">#</a> Quicksort de ordenación: <em>extendiendo la abstracción</em></h2> <p>Ahora vamos a crear la clase de ordenación Quisort sin modificar la implementación de la clase para simplificar el ejemplo, sin embaro podríamos hacer operaciones adicionales específicas a nuestras necesidades.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> DivideConquerSorter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">QuicksortSorter</span> <span class="token keyword">extends</span> <span class="token class-name">DivideConquerSorter</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><em>quicksort.sorter.ts</em></p> <h2 id="basica-lomuto-nativa-creando-implementaciones"><a href="#basica-lomuto-nativa-creando-implementaciones" class="header-anchor">#</a> Básica &amp; Lomuto &amp; nativa: <em>creando implementaciones</em></h2> <p>Con el objetivo de comparar el rendimiento de diferentes implementaciones, he creado tres algoritmos distintos de ordenación basados en el mismo principio de <em>divide y vencerás</em>:</p> <ol><li>En base a una interpretación básica de dicho principio de ordenación.</li> <li>En base al esquema de ordenación de <a href="https://en.wikipedia.org/wiki/Quicksort#Lomuto_partition_scheme" target="_blank" rel="noopener noreferrer">Lomuto<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li> <li>En base a la ordenación nativa de Chrome v8, el cual usa Quicksort para la implementación de <em>Array.sort</em>.</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> SorterAlgorithmInterface <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.'</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Basic quicksort algorithm implementation.
 */</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">BasicQuicksort</span> <span class="token keyword">implements</span> <span class="token class-name">SorterAlgorithmInterface</span> <span class="token punctuation">{</span>
  <span class="token function">sort</span><span class="token punctuation">(</span>numbers<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>numbers<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> pivot <span class="token operator">=</span> numbers<span class="token punctuation">[</span>numbers<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> left <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> n <span class="token operator">&lt;</span> pivot<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> right <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> n <span class="token operator">&gt;</span> pivot<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>

    numbers<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>
      <span class="token number">0</span><span class="token punctuation">,</span>
      numbers<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
      <span class="token operator">...</span>left<span class="token punctuation">,</span>
      <span class="token operator">...</span>numbers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> n <span class="token operator">===</span> pivot<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token operator">...</span>right<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><em>basic-quicksort.ts</em></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> SorterAlgorithmInterface <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.'</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Lomuto quicksort algorithm implementation.
 */</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LomutoQuicksort</span> <span class="token keyword">implements</span> <span class="token class-name">SorterAlgorithmInterface</span> <span class="token punctuation">{</span>
  <span class="token function">sort</span><span class="token punctuation">(</span>numbers<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> low<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> hight<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;</span> hight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">partition</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> low<span class="token punctuation">,</span> hight<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> low<span class="token punctuation">,</span> p <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> hight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token function">partition</span><span class="token punctuation">(</span>numbers<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> low<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> hight<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> pivot<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> numbers<span class="token punctuation">[</span>hight<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> i<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> low<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> low<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> hight<span class="token punctuation">;</span> j <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>numbers<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span>numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> numbers<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>numbers<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>numbers<span class="token punctuation">[</span>hight<span class="token punctuation">]</span> <span class="token operator">&lt;</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">[</span>numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> numbers<span class="token punctuation">[</span>hight<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>numbers<span class="token punctuation">[</span>hight<span class="token punctuation">]</span><span class="token punctuation">,</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> i<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><em>lomuto-quicksort.ts</em></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> SorterAlgorithmInterface <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.'</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Native quicksort algorithm implementation.
 * Chrome v8 uses QuickSort for Array.sort implementation.
 */</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">NativeQuicksort</span> <span class="token keyword">implements</span> <span class="token class-name">SorterAlgorithmInterface</span> <span class="token punctuation">{</span>
  <span class="token function">sort</span><span class="token punctuation">(</span>numbers<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>numbers<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    numbers <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><em>native-quicksort.ts</em></p> <h2 id="cliente-uso-de-las-implementaciones"><a href="#cliente-uso-de-las-implementaciones" class="header-anchor">#</a> Cliente: <em>uso de las implementaciones</em></h2> <p>Ya podemos hacer uso de nuestras clases y encajar todas las piezas.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> QuicksortSorter<span class="token punctuation">,</span> BasicQuicksort<span class="token punctuation">,</span> LomutoQuicksort<span class="token punctuation">,</span> NativeQuicksort <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'.'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> numbers<span class="token operator">:</span> numbers<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1515</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> basicQuicksort<span class="token operator">:</span> BasicQuicksort <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BasicQuicksort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lomutoQuicksort<span class="token operator">:</span> LomutoQuicksort <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LomutoQuicksort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nativeQuicksort<span class="token operator">:</span> NativeQuicksort <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NativeQuicksort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> quickSorterServiceWithBasic<span class="token operator">:</span> QuicksortSorter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QuicksortSorter</span><span class="token punctuation">(</span>basicQuicksort<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> quickSorterServiceWithLomuto<span class="token operator">:</span> QuicksortSorter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QuicksortSorter</span><span class="token punctuation">(</span>lomutoQuicksort<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> quickSorterServiceWithNative<span class="token operator">:</span> QuicksortSorter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QuicksortSorter</span><span class="token punctuation">(</span>nativeQuicksort<span class="token punctuation">)</span><span class="token punctuation">;</span>

quickSorterServiceWithBasic<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>
quickSorterServiceWithLomuto<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>
quickSorterServiceWithNative<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><em>index.ts</em></p> <h2 id="ejemplo-completo-con-prueba-de-rendimiendo"><a href="#ejemplo-completo-con-prueba-de-rendimiendo" class="header-anchor">#</a> Ejemplo completo con prueba de rendimiendo</h2> <p>Puedes acceder al proyecto que he creado con un <a href="https://github.com/rneto/ts-quicksort-bridge" target="_blank" rel="noopener noreferrer">ejemplo práctico de implementaciones del algoritmo Quicksort y uso del patrón Bridge con TypeScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> en GitHub.</p> <hr> <!----></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#algoritmo-quicksort" title="Algoritmo Quicksort">Algoritmo Quicksort</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#patron-bridge" title="Patrón Bridge">Patrón Bridge</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#interfaz-de-comportamiento-la-implementacion" title="Interfaz de comportamiento: la implementación">Interfaz de comportamiento: la implementación</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#divide-y-venceras-la-abstraccion" title="Divide y vencerás: la abstracción">Divide y vencerás: la abstracción</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#quicksort-de-ordenacion-extendiendo-la-abstraccion" title="Quicksort de ordenación: extendiendo la abstracción">Quicksort de ordenación: extendiendo la abstracción</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#basica-lomuto-nativa-creando-implementaciones" title="Básica &amp; Lomuto &amp; nativa: creando implementaciones">Básica &amp; Lomuto &amp; nativa: creando implementaciones</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#cliente-uso-de-las-implementaciones" title="Cliente: uso de las implementaciones">Cliente: uso de las implementaciones</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#ejemplo-completo-con-prueba-de-rendimiendo" title="Ejemplo completo con prueba de rendimiendo">Ejemplo completo con prueba de rendimiendo</a></div></div></div></div> <footer class="footer" data-v-fdbf4940><div class="footer-left-wrap" data-v-fdbf4940><ul class="contact" data-v-fdbf4940><li class="contact-item" data-v-fdbf4940><a href="https://mobile.twitter.com/RNeto" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-fdbf4940><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-fdbf4940></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-fdbf4940><ul class="copyright" data-v-fdbf4940><li class="copyright-item" data-v-fdbf4940><a href="/index.html" class="nav-link" data-v-fdbf4940>Rafael Neto © 2021</a></li></ul></div></footer></div><div class="global-ui"><!----><!----><!----></div></div>
    <script src="/assets/js/app.c6afc0c4.js" defer></script><script src="/assets/js/8.4155328b.js" defer></script><script src="/assets/js/3.daf20502.js" defer></script><script src="/assets/js/37.f8156d47.js" defer></script><script src="/assets/js/9.46140f75.js" defer></script>
  </body>
</html>

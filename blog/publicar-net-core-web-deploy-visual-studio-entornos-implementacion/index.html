<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Publicar aplicaciones ASP.NET Core en IIS con Web Deploy mediante perfiles de publicación de Visual Studio y diferenciando entornos de implementación | Rafael Neto</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/images/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/images/icons/icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#8a278c">
    <link rel="alternate" type="application/rss+xml" href="https://rneto.es/rss.xml" title="Rafael Neto RSS Feed">
    <meta name="description" content="

Los perfiles de publicación de Visual Studio son archivos de configuración donde se almacena la informació ...">
    <meta property="article:published_time" content="2020-11-26T00:00:00.000Z">
    <meta property="og:site_name" content="Rafael Neto">
    <meta property="og:title" content="Publicar aplicaciones ASP.NET Core en IIS con Web Deploy mediante perfiles de publicación de Visual Studio y diferenciando entornos de implementación">
    <meta property="og:description" content="

Los perfiles de publicación de Visual Studio son archivos de configuración donde se almacena la informació ...">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/blog/publicar-net-core-web-deploy-visual-studio-entornos-implementacion/">
    <meta name="twitter:title" content="Publicar aplicaciones ASP.NET Core en IIS con Web Deploy mediante perfiles de publicación de Visual Studio y diferenciando entornos de implementación">
    <meta name="twitter:description" content="

Los perfiles de publicación de Visual Studio son archivos de configuración donde se almacena la informació ...">
    <meta name="twitter:url" content="/blog/publicar-net-core-web-deploy-visual-studio-entornos-implementacion/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="ASPNET, NETCore, IIS, WebDeploy, VisualStudio">
    <meta property="article:tag" content="ASPNET">
    <meta name="theme-color" content="#8a278c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/images/icons/icon-144x144">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.34cc10db.css" as="style"><link rel="preload" href="/assets/js/app.c6afc0c4.js" as="script"><link rel="preload" href="/assets/js/8.4155328b.js" as="script"><link rel="preload" href="/assets/js/3.daf20502.js" as="script"><link rel="preload" href="/assets/js/36.8247b6ba.js" as="script"><link rel="preload" href="/assets/js/9.46140f75.js" as="script"><link rel="prefetch" href="/assets/js/10.c66dc6eb.js"><link rel="prefetch" href="/assets/js/11.0859c5f2.js"><link rel="prefetch" href="/assets/js/12.dda17e0d.js"><link rel="prefetch" href="/assets/js/13.cc76f2d3.js"><link rel="prefetch" href="/assets/js/14.7d6d8b5b.js"><link rel="prefetch" href="/assets/js/15.7444241f.js"><link rel="prefetch" href="/assets/js/16.3a5575f2.js"><link rel="prefetch" href="/assets/js/17.5ab4de7a.js"><link rel="prefetch" href="/assets/js/18.fcf5f987.js"><link rel="prefetch" href="/assets/js/19.10492db0.js"><link rel="prefetch" href="/assets/js/20.37e5d098.js"><link rel="prefetch" href="/assets/js/21.b7f0acbf.js"><link rel="prefetch" href="/assets/js/22.03b91290.js"><link rel="prefetch" href="/assets/js/23.dff5b85a.js"><link rel="prefetch" href="/assets/js/24.8909442f.js"><link rel="prefetch" href="/assets/js/25.d21ee7b0.js"><link rel="prefetch" href="/assets/js/26.6f4069c9.js"><link rel="prefetch" href="/assets/js/27.8df12cd8.js"><link rel="prefetch" href="/assets/js/28.fdac100a.js"><link rel="prefetch" href="/assets/js/29.6058f4a0.js"><link rel="prefetch" href="/assets/js/30.f605256a.js"><link rel="prefetch" href="/assets/js/31.c571e16a.js"><link rel="prefetch" href="/assets/js/32.4fe1f3b0.js"><link rel="prefetch" href="/assets/js/33.ee3d5fe3.js"><link rel="prefetch" href="/assets/js/34.0556425a.js"><link rel="prefetch" href="/assets/js/35.4f196f1b.js"><link rel="prefetch" href="/assets/js/37.f8156d47.js"><link rel="prefetch" href="/assets/js/38.6c76a4e9.js"><link rel="prefetch" href="/assets/js/39.7c90d7a7.js"><link rel="prefetch" href="/assets/js/4.3c7dd51c.js"><link rel="prefetch" href="/assets/js/40.172dd030.js"><link rel="prefetch" href="/assets/js/41.3f4a309e.js"><link rel="prefetch" href="/assets/js/42.8b5a61ed.js"><link rel="prefetch" href="/assets/js/5.ea665055.js"><link rel="prefetch" href="/assets/js/6.e64689b4.js"><link rel="prefetch" href="/assets/js/7.83269844.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.dbcc377a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.34cc10db.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">Rafael Neto </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link router-link-active">Blog</a></li><li class="nav-item"><a href="/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">Rafael Neto </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link router-link-active">Blog</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">Tags</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        
      </h1> <div class="post-meta"><!----> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2020-11-26T00:00:00.000Z">
      Nov 26 2020
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/tag/ASPNET" data-v-42ccfcd5><span data-v-42ccfcd5>ASPNET</span></a></li><li class="post-tag" data-v-42ccfcd5><a href="/tag/NETCore" data-v-42ccfcd5><span data-v-42ccfcd5>NETCore</span></a></li><li class="post-tag" data-v-42ccfcd5><a href="/tag/IIS" data-v-42ccfcd5><span data-v-42ccfcd5>IIS</span></a></li><li class="post-tag" data-v-42ccfcd5><a href="/tag/WebDeploy" data-v-42ccfcd5><span data-v-42ccfcd5>WebDeploy</span></a></li><li class="post-tag" data-v-42ccfcd5><a href="/tag/VisualStudio" data-v-42ccfcd5><span data-v-42ccfcd5>VisualStudio</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h1 id="publicar-aplicaciones-asp-net-core-en-iis-con-web-deploy-mediante-perfiles-de-publicacion-de-visual-studio-y-diferenciando-entornos-de-implementacion"><a href="#publicar-aplicaciones-asp-net-core-en-iis-con-web-deploy-mediante-perfiles-de-publicacion-de-visual-studio-y-diferenciando-entornos-de-implementacion" class="header-anchor">#</a> Publicar aplicaciones ASP.NET Core en IIS con Web Deploy mediante perfiles de publicación de Visual Studio y diferenciando entornos de implementación</h1> <!----> <p>Los <a href="https://docs.microsoft.com/es-es/aspnet/core/host-and-deploy/visual-studio-publish-profiles" target="_blank" rel="noopener noreferrer">perfiles de publicación de Visual Studio<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> son archivos de configuración donde se almacena la información de publicación de los servicios que contiene un proyecto. Con ellos podemos automatizar y simplificar la creación del conjunto de ficheros que permiten la ejecución de una aplicación y el despliegue de dichos ficheros a una máquina o servicio de destino.</p> <p>La creación de múltiples perfiles de publicación en un mismo proyecto es una manera básica de facilitar las tareas de despliegue cuando tenemos una arquitectura de sistemas basada en múltiples niveles de implementación y debemos hacer el despliegue del software en cada uno de ellos. Los entornos o niveles de implementación que se suelen contemplar en los depliegues son:</p> <ul><li><strong>Entorno de desarrollo (<em>Development</em>)</strong>: es el entorno usado por los programadores y donde se desarrollan los cambios en el software.</li> <li><strong>Entorno de pruebas (<em>Testing</em>)</strong>: es el entorno donde se realizan las pruebas unitarias, bien automáticas o humanas.</li> <li><strong>Entorno de pre-producción (<em>Staging</em>)</strong>: es el entorno usado por el cliente para comprobar las características implementadas antes de su puesta en producción.</li> <li><strong>Entorno de producción (<em>Production</em>)</strong>: es el entorno con el que los usuarios finales interactúan.</li></ul> <h2 id="¿como-crear-un-perfil-de-publicacion"><a href="#¿como-crear-un-perfil-de-publicacion" class="header-anchor">#</a> ¿Cómo crear un perfil de publicación?</h2> <p>Los siguientes pasos están basados en Visual Studio 2019 o versiones superiores. Un mismo proyecto puede tener múltiples perfiles de publicación por lo que crearemos uno por cada entorno de implementación. Pasos a seguir:</p> <ul><li>En el <em>Explorador de soluciones</em> de Visual Studio, pulsamos con el botón derecho en el proyecto y seleccionamos la opción <em>Publicar</em>. Otra alternativa es seleccionar el proyecto y seleccionar <em>Publicar {NOMBRE DEL PROYECTO}</em> en el menú <em>Compilar</em>.</li> <li>Si el proyecto no contiene previamente ningún perfil de publicación, se mostrará la página para elegir un destino de publicación.</li> <li>Si previamente teníamos configurado algún perfil de publicación, aparecerá la pestaña <em>Publicar</em> de la página de funcionalidades de la aplicación. En ese caso, seleccionamos la opción <em>Nuevo</em> que aparece debajo de la lista desplegable de perfiles.</li> <li>En la ventana <em>Publicar</em>, elegimos <em>Servidor web (IIS)</em>.</li> <li>Elegimos seguidamente <em>Web Deploy</em> como método de implementación.</li> <li>Configuramos las opciones necesarias del método de publicación y seleccionamos <em>Finalizar</em>. Las opciones mínimas que debemos configurar son:
<ul><li><em>Servidor</em>: La ruta del servidor de destino de la publicación.</li> <li><em>Nombre del sitio</em>: El nombre del sitio web del IIS del servidor de destino de la publicación.</li></ul></li> <li>Una vez creado el perfil de publicación, cambia el contenido de la pestaña <em>Publicar</em> y el perfil recién creado aparecerá en una lista desplegable.</li></ul> <p>Por cada perfil de publicación, Visual Studio genera un archivo <a href="https://docs.microsoft.com/es-es/visualstudio/msbuild/msbuild" target="_blank" rel="noopener noreferrer">MSBuild<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ubicado en la ruta <em>Properties/PublishProfiles/{NOMBRE DEL PERFIL}.pubxml</em> con toda la información de la configuración de publicación y que es posible modificar para personalizar el proceso de compilación y publicación del proyecto.</p> <h3 id="perfiles-de-publicacion-y-configuracion-en-asp-net-core"><a href="#perfiles-de-publicacion-y-configuracion-en-asp-net-core" class="header-anchor">#</a> Perfiles de publicación y configuración en ASP.NET Core</h3> <p>Cuando hacemos uso de la <a href="https://docs.microsoft.com/es-es/aspnet/core/fundamentals/configuration" target="_blank" rel="noopener noreferrer">configuración en ASP.NET Core<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> mediante archivos de configuración como <em>appsetting.json</em> o <em>appsettings.{Entorno}.json</em>, es necesario hacer un ajuste manual en el fichero de publicación <em>.pubxml</em> previamente generado para agregarle el <em>entorno de ejecución</em> que estamos desplegando. Según los niveles de implementación antes mencionados, deberíamos usar los valores <em>Development</em>, <em>Testing</em>, <em>Staging</em> o <em>Production</em> de la siguiente manera:</p> <div class="language-xml extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span>
    ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EnvironmentName</span><span class="token punctuation">&gt;</span></span>Staging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>EnvironmentName</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Agregando dicha configuración, nos aseguraremos de que cuando publiquemos nuestra aplicación ésta hará uso del fichero de configuración del entorno que hayamos establecido en el nodo <em>EnvironmentName</em>. El proceso por el que se aplicará dicha configuración será mediante la creación automática de un fichero <em>web.config</em> en el que se indicará de manera explícita la varialble de entorno <em>ASPNETCORE_ENVIRONMENT</em> con el valor que hayamos establecido en nuestro nuevo nodo.</p> <h3 id="publicacion-de-carpetas-personalizadas"><a href="#publicacion-de-carpetas-personalizadas" class="header-anchor">#</a> Publicación de carpetas personalizadas</h3> <p>En ocasiones debemos incluir en nuestra publicación carpetas que de forma predeterminada nuestro proyecto no agregaría. Es el caso por ejemplo de una carpeta situada al mismo nivel que la carpeta de nuestro proyecto. Para ello debemos realizar la siguiente modificación en el fichero del perfil de publicación:</p> <div class="language-xml extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PipelineCollectFilesPhaseDependsOn</span><span class="token punctuation">&gt;</span></span>
      IncludeCustomFiles;
      $(PipelineCollectFilesPhaseDependsOn);
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PipelineCollectFilesPhaseDependsOn</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Target</span> <span class="token attr-name">Name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IncludeCustomFiles<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Message</span> <span class="token attr-name">Text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Including custom files<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Importance</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>high<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ItemGroup</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>_CustomFiles</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$(MSBuildProjectDirectory)\..\myfolder\**\*<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FilesForPackagingFromProject</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>%(_CustomFiles.Identity)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DestinationRelativePath</span><span class="token punctuation">&gt;</span></span>myfolder\%(RecursiveDir)%(Filename)%(Extension)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>DestinationRelativePath</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>FilesForPackagingFromProject</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ItemGroup</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Target</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>En el anterior ejemplo la carpeta <code>myfolder</code> está al mismo nivel que la carpeta de nuestro proyecto. Si dicha carpeta estuviera dentro de nuestro proyecto, bastaría cambiar <code>$(MSBuildProjectDirectory)\..\myfolder\**\*</code> por <code>myfolder\**\*</code>.</p> <h3 id="omision-de-carpetas"><a href="#omision-de-carpetas" class="header-anchor">#</a> Omisión de carpetas</h3> <p>En otras ocasiones simplementer queremos excluir de nuestra publicación carpetas que de forma predeterminada nuestro proyecto sí agregarían al despliegue. En dicho caso debemos realizar la siguiente modificación en el fichero del perfil de publicación:</p> <div class="language-xml extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ItemGroup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MsDeploySkipRules</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CustomSkipFolder<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ObjectName</span><span class="token punctuation">&gt;</span></span>dirPath<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ObjectName</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AbsolutePath</span><span class="token punctuation">&gt;</span></span>myfolder\\mysubfolder<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>AbsolutePath</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MsDeploySkipRules</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ItemGroup</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>En el anterior ejemplo se excluiría de la publicación la carpeta <code>myfolder\mysubfolder</code>.</p> <h2 id="creacion-del-entorno-de-ejecucion-en-iis-8-o-posterior"><a href="#creacion-del-entorno-de-ejecucion-en-iis-8-o-posterior" class="header-anchor">#</a> Creación del entorno de ejecución en IIS 8 o posterior</h2> <p>Para poder publicar nuestro proyecto en el servidor IIS, previamente debemos haber preparado el entorno de ejecución siguiendo los siguientes pasos en el servidor de publicación:</p> <ol><li>Instalar la versión de .NET Core que use nuestro proyecto. Será necesario instalar la opción <em>ASP.NET Core Hosting Bundle</em> y en algunos casos es posible que sea también necesario reiniciar la máquina.</li> <li>Instalar el certificado SSL del cual hará uso nuestra aplicación.
<ul><li>Podemos hacerlo mediante la obtención del fichero <em>pfx</em> de nuestro certificado con la clave privada incluida y el uso de la herramienta <em>mmc.exe</em> (Microsoft Management Console) para su importación a través del <em>Snap-in</em> <em>Certificates</em> a nivel de <em>Computer account</em>.</li></ul></li> <li>Instalar IIS Web Deploy.
<ul><li>Web Deploy es una extensión de IIS ofrecida por Microsoft para la implementación de aplicaciones web en servidores IIS.</li> <li>Podemos descargarnos directamente el <a href="https://www.iis.net/downloads/microsoft/web-deploy" target="_blank" rel="noopener noreferrer">instalador<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> desde la web de IIS.</li> <li>Otros <a href="https://docs.microsoft.com/en-us/iis/install/installing-publishing-technologies/installing-and-configuring-web-deploy-on-iis-80-or-later" target="_blank" rel="noopener noreferrer">métodos de instalación de Web Deploy en IIS 8.0 y posterior<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li></ul></li> <li>Crearemos el directorio físico donde alojaremos nuestra aplicación.</li> <li>Añadiremos al IIS un nuevo sitio web
<ul><li>El nuevo sitio apuntará a la ruta física del directorio que hemos creado para alojar la aplicación.</li> <li>Al nuevo sitio creado se le asignará a un nuevo pool propio, sin código gestionado (<em>No Managed Code</em>).</li> <li>Asignaremos al nuevo sitio web el certificado que hemos importado previamente a través del apartado <em>Bindings</em> de la sección <em>Actions</em> del IIS, mediante la creación de una entrada para el protocolo <em>https</em>. Si necesitáramos configurar más de un certificado en una misma IP, tendremos que activar la opción <em>Require Server Name Indication</em>.</li></ul></li></ol> <h2 id="errores-comunes-durante-el-proceso-de-publicacion-y-al-consumir-servicios-publicados"><a href="#errores-comunes-durante-el-proceso-de-publicacion-y-al-consumir-servicios-publicados" class="header-anchor">#</a> Errores comunes durante el proceso de publicación y al consumir servicios publicados</h2> <p>Cuando intentemos realizar la publicación de nuestro proyecto o bien intentemos consumir los servicios de dicho proyecto una vez publicados, podemos encontrarnos con algunos errores comunes como los de de a continuación.</p> <p>Recordemos que la publicación de un proyecto se puede realizar desde el <em>Explorador de soluciones</em> de Visual Studio, pulsamos con el botón derecho en el proyecto y seleccionamos la opción <em>Publicar</em> o como alternativa seleccionando el proyecto y elegir <em>Publicar {NOMBRE DEL PROYECTO}</em> en el menú <em>Compilar</em>.</p> <h3 id="error-the-remote-certificate-is-invalid-according-to-the-validation-procedure"><a href="#error-the-remote-certificate-is-invalid-according-to-the-validation-procedure" class="header-anchor">#</a> ERROR: <em>The remote certificate is invalid according to the validation procedure.</em></h3> <p>En caso de tener errores de publicación relativos a dicho problema, es necesario agregar manualmente la propiedad <em>AllowUntrustedCertificate</em> con un valor de <em>True</em> al perfil de publicación:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AllowUntrustedCertificate</span><span class="token punctuation">&gt;</span></span>True<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>AllowUntrustedCertificate</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="error-http-502-5-process-failure-iis"><a href="#error-http-502-5-process-failure-iis" class="header-anchor">#</a> ERROR: <em>HTTP 502.5 - Process Failure (IIS)</em></h3> <p>Si una vez publicado el servicio, al hacer una llamada, por ejemplo con <a href="https://www.postman.com/" target="_blank" rel="noopener noreferrer">Postman<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, recibiéramos este error, añadiendo la siguiente propiedad al perfil de publicación, se solucionaría:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span>
    ...
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PublishWithAspNetCoreTargetManifest</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PublishWithAspNetCoreTargetManifest</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="error-http-405-method-not-allowed-iis"><a href="#error-http-405-method-not-allowed-iis" class="header-anchor">#</a> ERROR: <em>HTTP 405 - Method Not Allowed (IIS)</em></h3> <p><a href="https://stackoverflow.com/questions/48188895/asp-net-core-with-iis-http-verb-not-allowed" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/48188895/asp-net-core-with-iis-http-verb-not-allowed<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Básicamente es necesario añadir un fichero <em>web.config</em> con el siguiente contenido:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>location</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.<span class="token punctuation">&quot;</span></span> <span class="token attr-name">inheritInChildApplications</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.webServer</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>WebDAVModule<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>handlers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aspNetCore<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>WebDAV<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ExtensionlessUrlHandler-Integrated-4.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>OPTIONSVerbHandler<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>TRACEVerbHandler<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aspNetCore<span class="token punctuation">&quot;</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span> <span class="token attr-name">verb</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span> <span class="token attr-name">modules</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AspNetCoreModuleV2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resourceType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Unspecified<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>handlers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.webServer</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>location</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="error-web-deployment-task-failed"><a href="#error-web-deployment-task-failed" class="header-anchor">#</a> ERROR: <em>Web deployment task failed</em></h3> <p><a href="https://go.microsoft.com/fwlink/?LinkId=221672#ERROR_DESTINATION_NOT_REACHABLE" target="_blank" rel="noopener noreferrer">https://go.microsoft.com/fwlink/?LinkId=221672#ERROR_DESTINATION_NOT_REACHABLE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>El error se produce porque <em>Web Management Service</em> o <em>Remote Agent</em> no están instalados o arrancados en el servidor. La instalación de <em>Manager Service</em> se realiza agregando al servidor el rol <em>Web Server (IIS)/Management Tool/Management Service</em>. Una vez instalado, debemos reiniciar el <em>IIS Manager</em> y arrancar el <em>Management Service</em> a nivel de servidor.</p> <h3 id="error-web-deployment-task-failed-2"><a href="#error-web-deployment-task-failed-2" class="header-anchor">#</a> ERROR: <em>Web deployment task failed</em></h3> <p><a href="https://go.microsoft.com/fwlink/?LinkId=221672#ERROR_COULD_NOT_CONNECT_TO_REMOTESVC" target="_blank" rel="noopener noreferrer">https://go.microsoft.com/fwlink/?LinkId=221672#ERROR_COULD_NOT_CONNECT_TO_REMOTESVC<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Además de las soluciones propuestas por Microsoft, también cabe la posibilidad de que este error se produzca por haber instalado el <em>Manager Service</em> después de <em>Web Deploy</em>. En ese caso, debemos desinstalar y volver a instalar <em>Web Deploy</em>.</p> <h3 id="error-could-not-connect-to-the-remote-computer"><a href="#error-could-not-connect-to-the-remote-computer" class="header-anchor">#</a> ERROR: <em>Could not connect to the remote computer</em></h3> <p><a href="http://go.microsoft.com/fwlink/?LinkId=221672#ERROR_COULD_NOT_CONNECT_TO_REMOTES" target="_blank" rel="noopener noreferrer">http://go.microsoft.com/fwlink/?LinkId=221672#ERROR_COULD_NOT_CONNECT_TO_REMOTES<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Si las soluciones propuestas por Microsoft no son válidas, otra posible causa del error puede que esté en la restricción de direcciones IP del propio <em>Management Service</em> del IIS, cuyo valor debe ser <em>Allow</em> o indicar explícitamente las direcciones IP desde las cuales se realizará el despliegue.</p> <h3 id="error-could-not-verify-server-s-certificate"><a href="#error-could-not-verify-server-s-certificate" class="header-anchor">#</a> ERROR: <em>Could not verify server's certificate</em></h3> <p><a href="https://docs.microsoft.com/en-us/iis/publish/troubleshooting-web-deploy/web-deploy-error-codes#ERROR_CERTIFICATE_VALIDATION_FAILED" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/en-us/iis/publish/troubleshooting-web-deploy/web-deploy-error-codes#ERROR_CERTIFICATE_VALIDATION_FAILED<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>El error se produce porque de manera predeterminada el IIS usa el certificado auto firmado de Windows, el cual no está emitido por una entidad raíz de confianza.</p> <h4 id="solucion-1-usar-un-certificado-valido"><a href="#solucion-1-usar-un-certificado-valido" class="header-anchor">#</a> Solución 1 (usar un certificado válido)</h4> <p>Debemos seguir los siguientes pasos:</p> <ol><li>Abrir el administrador de IIS (IIS Manager).</li> <li>En el árbol de conexiones, seleccionar la máquina.</li> <li>En el panel de características, abrir <em>Management Service</em> (se encuentra en el área <em>Management</em>).</li> <li>Paramos el servicio con el botón <em>Stop</em>.</li> <li>En el desplegable de <em>SSL certificate</em> seleccionamos el certificado que queremos usar.</li> <li>Volvemos a arrancar el servicio con el botón <em>Start</em> (aceptamos cuando nos pregunte si queremos guardar los cambios).</li></ol> <h4 id="solucion-2-usar-el-certificado-auto-firmado"><a href="#solucion-2-usar-el-certificado-auto-firmado" class="header-anchor">#</a> Solución 2 (usar el certificado auto firmado)</h4> <p><a href="https://docs.microsoft.com/es-es/aspnet/core/host-and-deploy/visual-studio-publish-profiles?view=aspnetcore-3.0#publish-to-a-server-using-an-untrusted-certificate" target="_blank" rel="noopener noreferrer">Opción 2.1 (ASP.NET Core 3.0) &quot;Publicación en un servidor mediante un certificado que no es de confianza&quot;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://stackoverflow.com/questions/33659696/publishing-from-visual-studio-2015-allow-untrusted-certificates" target="_blank" rel="noopener noreferrer">Opción 2.2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="otros-errores"><a href="#otros-errores" class="header-anchor">#</a> Otros errores</h3> <p><a href="https://docs.microsoft.com/en-us/iis/publish/troubleshooting-web-deploy/troubleshooting-web-deploy-problems-with-visual-studio" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/en-us/iis/publish/troubleshooting-web-deploy/troubleshooting-web-deploy-problems-with-visual-studio<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <hr> <!----></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#¿como-crear-un-perfil-de-publicacion" title="¿Cómo crear un perfil de publicación?">¿Cómo crear un perfil de publicación?</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#perfiles-de-publicacion-y-configuracion-en-asp-net-core" title="Perfiles de publicación y configuración en ASP.NET Core">Perfiles de publicación y configuración en ASP.NET Core</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#publicacion-de-carpetas-personalizadas" title="Publicación de carpetas personalizadas">Publicación de carpetas personalizadas</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#omision-de-carpetas" title="Omisión de carpetas">Omisión de carpetas</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#creacion-del-entorno-de-ejecucion-en-iis-8-o-posterior" title="Creación del entorno de ejecución en IIS 8 o posterior">Creación del entorno de ejecución en IIS 8 o posterior</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#errores-comunes-durante-el-proceso-de-publicacion-y-al-consumir-servicios-publicados" title="Errores comunes durante el proceso de publicación y al consumir servicios publicados">Errores comunes durante el proceso de publicación y al consumir servicios publicados</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#error-the-remote-certificate-is-invalid-according-to-the-validation-procedure" title="ERROR: The remote certificate is invalid according to the validation procedure.">ERROR: The remote certificate is invalid according to the validation procedure.</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#error-http-502-5-process-failure-iis" title="ERROR: HTTP 502.5 - Process Failure (IIS)">ERROR: HTTP 502.5 - Process Failure (IIS)</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#error-http-405-method-not-allowed-iis" title="ERROR: HTTP 405 - Method Not Allowed (IIS)">ERROR: HTTP 405 - Method Not Allowed (IIS)</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#error-web-deployment-task-failed" title="ERROR: Web deployment task failed">ERROR: Web deployment task failed</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#error-web-deployment-task-failed-2" title="ERROR: Web deployment task failed">ERROR: Web deployment task failed</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#error-could-not-connect-to-the-remote-computer" title="ERROR: Could not connect to the remote computer">ERROR: Could not connect to the remote computer</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#error-could-not-verify-server-s-certificate" title="ERROR: Could not verify server's certificate">ERROR: Could not verify server's certificate</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#otros-errores" title="Otros errores">Otros errores</a></div></div></div></div> <footer class="footer" data-v-fdbf4940><div class="footer-left-wrap" data-v-fdbf4940><ul class="contact" data-v-fdbf4940><li class="contact-item" data-v-fdbf4940><a href="https://mobile.twitter.com/RNeto" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-fdbf4940><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-fdbf4940></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-fdbf4940><ul class="copyright" data-v-fdbf4940><li class="copyright-item" data-v-fdbf4940><a href="/index.html" class="nav-link" data-v-fdbf4940>Rafael Neto © 2021</a></li></ul></div></footer></div><div class="global-ui"><!----><!----><!----></div></div>
    <script src="/assets/js/app.c6afc0c4.js" defer></script><script src="/assets/js/8.4155328b.js" defer></script><script src="/assets/js/3.daf20502.js" defer></script><script src="/assets/js/36.8247b6ba.js" defer></script><script src="/assets/js/9.46140f75.js" defer></script>
  </body>
</html>
